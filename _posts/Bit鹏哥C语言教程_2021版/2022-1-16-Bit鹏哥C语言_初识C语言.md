---
layout: post #布局
title: "Bit鹏哥C语言:P1-P26"  #标题
date: 2022-1-16  #时间
author: Da Yu  #作者
category: Bit鹏哥C语言  #类别
tags: Bit鹏哥C语言_2021版  #标签
toc: true   #生成目录
#pinned: true   #置顶帖
---
初识C语言_对C语言的大致介绍，各项内容浅尝即止

## 做一个网络游戏要会什么？

1.能熟练使用至少一门经典的计算机语言（C/C++/Java）

2.数据结构和算法

3.操作系统

4.计算机网络+网络编程

5.数据库

6.脚本语言



## 一个工程中有且只有一个main函数

一个工程中可以有多个`.c`文件

但多个`.C`文件中只能有一个`main`函数



## 初识数据类型

| 类型名    | 输入 | 输出                                                         |
| --------- | :--- | ------------------------------------------------------------ |
| char      | %c   | %c                                                           |
| short     | %hd  | %hd                                                          |
| int       | %d   | %d                                                           |
| long      | %ld  | %ld                                                          |
| long long | %lld | %lld                                                         |
| float     | %f   | %f                                                           |
| double    | %lf  | [%f](https://blog.csdn.net/weixin_41162823/article/details/82930705) |

### sizeof

`sizeof`是`关键字`,也是C语言中的一个`操作符`,单位是`byte`作用是计算类型或者变量所占空间的大小,用法如下:

```C
#include <stdio.h>
int main()
{
    printf("%d\n",sizeof(char));
    printf("%d\n",sizeof(short));
    printf("%d\n",sizeof(int));
    printf("%d\n",sizeof(long));
    printf("%d\n",sizeof(float));
    printf("%d\n",sizeof(double));
    return 0;
}
```



## 常量和变量

### 常量

常量 - 不能改变的量

| 常量的类别                | 举例                                | 注释                                                       |
| ------------------------- | ----------------------------------- | ---------------------------------------------------------- |
| 字面常量                  | 3.14/10/'a'/"abcdefg"               | 浮点型常量/整型常量/字符常量/字符串长                      |
| `const`修饰的常变量       | const int num = 10;                 | num是常变量 - 具有常属性(不能改变的属性)                   |
| `#define`定义的标识符常量 | #define MAX = 10000；               | 通常定义在main函数之前                                     |
| 枚举常量                  | enum Sex{ MALE , FEMALE , SECRET }; | [enum是枚举关键字](http://c.biancheng.net/view/2034.html)) |



### 变量

变量 - 能被改变的量

#### 变量的生命周期：变量从创建到销毁的时间段

- 局部变量的生命周期：进入局部范围，生命周期开始，离开局部范围，生命周期结束
- 全局变量的生命周期：程序的生命周期



#### 定义变量的两种形式:

1.`类型`+`变量名`+`=0` //初始化变量为0

2.`类型`+`变量名`  //不初始化变量,不推荐用这种方式定义变量



#### 跨文件定义的全局变量要用extern声明

项目中有多个`.c`文件时，当主函数文件想使用其他`.c`文件中定义的全局变量，就要在`main`函数前先对变量进行声明，如：

```c
int out = 10;  //非主函数文件中定义了一个全局变量
```

```c
#include <stdio.h>

extern out;  //先声明，才可以使用其他.c文件中定义的全局变量
int main()
{
	printf("%d",out);
	return 0;
}
```



## 字符串

`"hello word!"`这种由双引号引起来的一串字符称为字符串面值，或简称为字符串

字符串的结束标志是一个`\0`的转义字符，每一个字符串的结尾都隐藏了一个`\0`

在计算字符串长度的时候`\0`是结束标志， 不算做字符串内容

求字符串长度用`strlen`函数，例：`int length = strlen("abc");`，length的值就是字符串长度



## 转义字符

`\ddd`:ddd表示1~3个八进制数。如：`printf("%c",\130);`打印出的是X（字符'X'对应的ASCLL码是130）

`\xdd`：dd表示1~2个十六进制数。如：`printf（"%c",\x30）;`打印出的是是0（字符'0'对应的ASCLL码是48）



## 注释

注释的作用：解释复杂代码

C++注释风格：`//注释内容`，这种风格更为常用

C语言注释风格：`/*注释内容*/`，存在缺陷，不支持嵌套注释



## 数组

数组是一组相同类型元素的合集

`int arr1[10] = {0,1,2,3,4,5,6,7,8,9};`完全初始化：数组宽度与实际元素个数相等

`int arr2[5] = {1,2,3};`不完全初始化：元素个数小于数组宽度，除字符类型以外的数组，未设置的元素位默认用0填充

`char arr3[5] = {'a','b','c'};`不完全初始化：元素个数小于数组宽度，字符数组未设置的元素位默认用`\0`填充

数组用`下标`访问，数组下标从`0`开始



## 操作符

| 操作符     | 例举                                       |
| ---------- | ------------------------------------------ |
| 算数操作符 | +(加)、-(减) 、*(乘)、/(除)、 %(取模运算)  |
| 移位操作符 | >>(右移)、<<(左移)                         |
| 位操作符   | &(按位与)、\|(按位或)、^(按位异或)         |
| 逻辑操作符 | &&(逻辑与)、\|\|(逻辑或)                   |
| 单目操作符 | ~(按二进制位取反)、sizeof(计算操类型长度)  |
| 条件操作符 | exp1 **？**exp2 **：**exp3（三目操作符）   |
| 逗号表达式 | exp1，exp2，exp3，exp4（从左向右依次计算） |



## 原码、反码、补码

正式在内存中存储的是补码

正整数的原码、反码、补码相同

负整数的原码、反码、补码不同，以`-1`为例：

- 原码：1000 0000 0000 0000 0000 0000 0000 0001
- 反码：1111 1111 1111 1111 1111 1111 1111 1110 >> 原码符号位不变，其他位按位取反
- 补码：1111 1111 1111 1111 1111 1111 1111 1111 >> 反码加一



## C语言关键字

1.关键字是C语言提供的，不能自己创建

2.关键字不能做变量

3.`define`和`include`不是关键字，而是预处理指令



## 不同元素存放在内存中的位置

| 区域   | 元素                           |
| ------ | ------------------------------ |
| 栈区   | 局部变量、函数的参数           |
| 堆区   | 动态内存分配                   |
| 静态区 | 全局变量、Static修饰的静态变量 |



## extern、static

static修饰局部变量将会改变局部变量的生命周期，本质上则是改变了变量的存储类型。将局部变量从"栈区"放到了"静态区"

extern用于声明外部符号，但无法声明经Static修饰的全局变量和外部函数，Static修饰的全局变量和外部函数只能在自身所在的源文件(.c文件)中使用。

全局变量之所以能被外部文件使用，是因为全局变量具有外部链接属性。但经Static修饰后，全局变量的外部链接属性就变成了内部链接属性，其他源文件将不能链接到这个静态的全局变量。函数也是同理，用Static修饰函数将会令函数的外部链接属性变成内部链接属性，该函数将不能在同一工程下的其他源文件内被调用。Static对全局变量和函数的修饰表面上是改变了二者的作用域，本质上则是将它们的外部链接属性变成内部链接属性。



## #define定义常量和宏

define是一个预处理指令

作用1：定义符号，即定义标识符常量

```c
#define MAX = 1000;//定义标识符常量
int main()
{
    printf("%d\n",MAX);
    return 0;
}
```

作用2：定义宏。宏有参数，宏的参数是"替换"，需要注意宏的正确写法。下方代码中宏ADD的参数X和Y可以是变量也可以是表达式，因此要用使用括号，且宏的参数是替换，因此整个宏体也需要括号，若采用错误书写方法"ADD(X+Y) X+Y",那么下方"printf("%d\n",4*ADD(2,3));"打印出的结果将是11，因为错误书写方法经宏替换后的计算公式为4x2+3=11，而不是预期的4x(2+3)=20

```c
#define ADD(X,Y) ((X)+(Y))//定义宏
int main()
{
    printf("%d\n",4*ADD(2,3));
    return 0;
}
```



## 结构体：结构体使C语言有能力描述复杂对象

比如描述学生，学生包含："名字、年龄、性别、学号"这几项信息，此时便需要借助结构体描述

首先要进行结构体的创建：

```c
struct stu  //结构体变量的创建，结构体变量内的变量统称为成员变量
{
    char name[20];//名字
    int age;      //年龄
    char sex[5];  //性别
    char id[10];  //学号
}
```

实际使用时还需要进行结构体的初始化：

```c
int main()
{
    struct stu ZhangSan = {"张三",12,"男","88641234"}; //结构体的初始化
    struct stu* ZS = &ZhangSan; //创建结构体指针变量
    printf("%c %d %c %c\n",ZhangSan.name,ZhangSan.age,ZhangSan.sex,ZhangSan.id);  //结构体变量.成员变量
    printf("%c %d %c %c\n",(*ZS).name,(*ZS).age,(*ZS).sex,(*ZS).id);  //用结构体指针找到成员变量的方式之一
    printf("%c %d %c %c\n",ZS->name,ZS->age,ZS->sex.ZS->id);  //用结构体指针找到成员变量的方式之二
    return 0;
}
```



初识C语言本章完.End



